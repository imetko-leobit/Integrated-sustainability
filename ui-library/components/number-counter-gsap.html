<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
  <style>
    /* CSS */
    .counter-section {
      margin:  100vh 0;
      height: 100vh; /* To make sure there's enough space to scroll */
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .counter {
      font-size: 3rem;
      font-weight: bold;
      margin: 0 100px;
    }

  </style>
</head>
<body>
<!-- HTML -->
<div class="counter-section js-counters">
  <div class="counter" data-target="123.45">0</div>
  <div class="counter" data-target="100">0</div>
  <div class="counter" data-target="0.99">0</div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

<script>
  gsap.registerPlugin(ScrollTrigger);

  const counters = document.querySelectorAll('.js-counters .counter');

  counters.forEach(counter => {
    const targetValue = parseFloat(counter.getAttribute('data-target'));
    const decimalPlaces = targetValue.toString().split('.')[1]?.length || 0;

    gsap.fromTo(counter,
            { textContent: 0 },
            {
              textContent: targetValue,
              duration: 2,
              ease: "power1.inOut",
              scrollTrigger: {
                trigger: counter,
                start: "top 70%",
                toggleActions: "play none none none"
              },
              snap: { textContent: 1 / Math.pow(10, decimalPlaces) }, // Snap to the closest decimal value
              onUpdate: function () {
                counter.textContent = Number(counter.textContent).toFixed(decimalPlaces);
              }
            }
    );
  });

</script>
</body>
</html>