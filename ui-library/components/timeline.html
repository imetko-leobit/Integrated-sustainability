<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GSAP Timeline Flow</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }
    section {
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 2rem;
    }
    .section1 {
      background-color: #f8b400;
    }
    .section2 {
      background-color: #34d399;
      transition: background-color 1s ease-in-out;
    }
    .section2.highlight {
      background-color: #355d4f;
    }
    .section3 {
      background-color: #3b82f6;
    }
    .animated-text {
      opacity: 0;
      transform: translateY(20px);
    }
    .highlight {
      background-color: yellow;
    }
  </style>
</head>
<body>
<section class="section1">
  <div class="animated-text">Pinned Section with Animation</div>
</section>
<section class="section2">
  <div class="trigger-text">Trigger Class Change</div>
</section>
<section class="section3">
  <div class="static-text">Static Section</div>
</section>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.1/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.1/ScrollTrigger.min.js"></script>
<script>
  // GSAP Timeline
  const tl = gsap.timeline({
    scrollTrigger: {
      trigger: '.section1',
      start: 'top top',
      end: 'bottom top',
      scrub: true,
      pin: true,
      anticipatePin: 1,
      markers: true // Remove in production
    }
  });

  // Section 1 - Animation during pin
  tl.to('.animated-text', {
    opacity: 1,
    y: 0,
    duration: 1
  });

  // Section 2 - Class change on scroll
  ScrollTrigger.create({
    trigger: '.section2',
    start: 'top 80%',
    end: 'bottom 20%',
    toggleClass: {targets: '.section2', className: 'highlight'},
    markers: true // Remove in production
  });

  // Section 3 - Static content (no animation needed)
</script>
</body>
</html>
